scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "",
x = "",
y = "") +
theme(panel.background = element_blank())
Classic <- ggplot(PresençaPerc, aes(x=PresençaPerc*100.0, y=Produto))+
geom_bar(stat = "identity", fill="#17706E")+
geom_text(aes(label = paste0(round(PresençaPerc * 100), "%")), hjust = -0.2)+
labs(title= "Presença de Produto em Linear verificado pelo Ninja")+
theme(axis.title.x = element_blank(),
axis.title.y = element_blank())
Classic<-Classic +theme(panel.background = element_blank())
Classic
#Produto1
Produtos
#Produto1
Produtos[1,]
sinal1<-gsub("\\[nome\\]", Produtos[1,], padrãoSinal)
#PRODUTOS
padrãoSinal<- `Sinal [nome]`
sinal1<-gsub("\\[nome\\]", Produtos[1,], padrãoSinal)
#PRODUTOS
padrãoSinal<- "Sinal [nome]"
sinal1<-gsub("\\[nome\\]", Produtos[1,], padrãoSinal)
DATAE2 <- DATAFUSION %>%
dplyr::select(sinal1)
DATAE2 <- DATAFUSION %>%
dplyr::select(all_of(sinal1))
DATAE2<-na.omit(DATAE2)
freq2 <- table(DATAE2$`Sinal CAFÉ DELTA Q QALIDUS 10CAP`)
dfEsPerc2<-data.frame(prop.table(freq2))
E21 <- ggplot(dfEsPerc2, aes(x = Var1, y = Freq)) +
geom_bar(fill = "#9d5c52", stat = "identity", width = 0.7) +
scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "",
x = "",
y = "") + theme(panel.background = element_blank())
ggplotly(E21)
Presença11 <- DATAFUSION %>%
dplyr::select(all_of(sinal1))
Presença11<-na.omit(Presença11)
freq2 <- table(Presença11$`Sinal CAFÉ DELTA Q QALIDUS 10CAP`)
dfEsPerc2<-data.frame(prop.table(freq2))
E21 <- ggplot(dfEsPerc2, aes(x = Var1, y = Freq)) +
geom_bar(fill = "#9d5c52", stat = "identity", width = 0.7) +
scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "",
x = "",
y = "") + theme(panel.background = element_blank())
ggplotly(E21)
GPresença1 <- ggplot(dfEsPerc2, aes(x = Var1, y = Freq)) +
geom_bar(fill = "#9d5c52", stat = "identity", width = 0.7) +
scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "",
x = "",
y = "") + theme(panel.background = element_blank())
ggplotly(GPresença1)
library(flexdashboard)
library(DT)
library(dygraphs)
ggplotly(E21)
sinal1<-gsub("\\[nome\\]", Produtos[1,], padrãoSinal)
PresençaC1 <- DATAFUSION %>%
dplyr::select(all_of(sinal1))
PresençaC1<-na.omit(PresençaC1)
freq2 <- table(Presença11$`Sinal CAFÉ DELTA Q QALIDUS 10CAP`)
dfEsPerc2<-data.frame(prop.table(freq2))
GPresença1 <- ggplot(dfEsPerc2, aes(x = Var1, y = Freq)) +
geom_bar(fill = "#9d5c52", stat = "identity", width = 0.7) +
scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "",
x = "",
y = "") + theme(panel.background = element_blank())
ggplotly(GPresença1)
ggplotly(GPresença1)
Freq1 <- table(Presença1$Promos[1])
Promos[1]
lalala<-Promos[1]
Freq1 <- table(Presença1$lalala)
Freq1 <- table(Presença1$`Promoção`)
dfPerc1<-data.frame(prop.table(Freq1))  # Fazer a frequência de cada um dos casos
names(dfPerc1) <- c(Promos[1], "Freq")
GPromo1 <- ggplot(dfPerc1, aes(x = Promoção, y = Freq)) +
geom_bar(fill = "#40E0D0", stat = "identity") +
geom_text(aes(label = paste0(round(Freq * 100), "%"))) +
scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "",
x = "",
y = "") +
theme(panel.background = element_blank())
Freq2 <- table(PresençaC1$`Sinal CAFÉ DELTA Q QALIDUS 10CAP`)
dfPercC1<-data.frame(prop.table(Freq2))
names(dfPercC1) <- c(Promos[1], "Freq")
GPresença1 <- ggplot(dfPercC2, aes(x = Var1, y = Freq)) +
geom_bar(fill = "#9d5c52", stat = "identity", width = 0.7) +
scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "",
x = "",
y = "") + theme(panel.background = element_blank())
Ep1<-subplot(E1, E2, E3)
Ep2<-subplot(E4, E5, E6)
subplot(Ep1, Ep2, nrows=2, widths = 1, heights = NULL, margin = 0.02)
PresençaC2 <- DATAFUSION %>%
dplyr::select(`Sinal CAFÉ DELTA Q AQTIVUS 10CAP`)
PresençaC2<-na.omit(PresençaC2)
FreqC2 <- table(PresençaC2$`Sinal CAFÉ DELTA Q AQTIVUS 10CAP`)
dfPercC2<-data.frame(prop.table(FreqC2))
GPresença2 <- ggplot(dfPercC2, aes(x = Var1, y = Freq)) +
geom_bar(fill = "#fe6900", stat = "identity", width = 0.7) +
scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "",
x = "",
y = "") + theme(panel.background = element_blank())
GPresença2
PresençaC3 <- DATAFUSION %>%
dplyr::select(`Sinal CAFÉ DELTA Q DEQAFEINATUS 10CAP`)
PresençaC3<-na.omit(PresençaC3)
FreqC3 <- table(PresençaC3$`Sinal CAFÉ DELTA Q DEQAFEINATUS 10CAP`)
dfPercC3<-data.frame(prop.table(FreqC3))
GPresença3<- ggplot(dfPercC3, aes(x = Var1, y = Freq)) +
geom_bar(fill = "#01aed8", stat = "identity", width = 0.7) +
scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "",
x = "",
y = "") + theme(panel.background = element_blank())
PresençaC4 <- DATAFUSION %>%
dplyr::select(`Sinal CERV.C/ALC.T/P CORONA 35,5CL`)
PresençaC4<-na.omit(PresençaC4)
FreqC4 <- table(PresençaC4$`Sinal CERV.C/ALC.T/P CORONA 35,5CL`)
dfPercC4<-data.frame(prop.table(FreqC4))
GPresença4<- ggplot(dfPercC4, aes(x = Var1, y = Freq)) +
geom_bar(fill = "#1a2246", stat = "identity", width = 0.7) +
scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "",
x = "",
y = "") + theme(panel.background = element_blank())
PresençaC5 <- DATAFUSION %>%
dplyr::select(`Sinal CERV.C/ALC.T/P FRANZISKANER WEISSBI.50CL`)
PresençaC5<-na.omit(PresençaC5)
FreqC5 <- table(PresençaC5$`Sinal CERV.C/ALC.T/P FRANZISKANER WEISSBI.50CL`)
dfPercC5<-data.frame(prop.table(FreqC5))
GPresença15<- ggplot(dfPercC5, aes(x = Var1, y = Freq)) +
geom_bar(fill = "#e1cf98", stat = "identity", width = 0.7) +
scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "",
x = "",
y = "") + theme(panel.background = element_blank())
Ep1<-subplot(GPromo1, GPresença1, GPresença2)
Ep2<-subplot(GPresença3, GPresença4, GPresença5)
GPresença5<- ggplot(dfPercC5, aes(x = Var1, y = Freq)) +
geom_bar(fill = "#e1cf98", stat = "identity", width = 0.7) +
scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "",
x = "",
y = "") + theme(panel.background = element_blank())
Ep1<-subplot(GPromo1, GPresença1, GPresença2)
Ep2<-subplot(GPresença3, GPresença4, GPresença5)
PresençaPerc <- fileLong %>%
group_by(Produto) %>%
summarise(PresençaPerc = sum(Presença_2, na.rm = TRUE) / nrow(DataFusion))
class(Graficos)
class(PresençaPerc)
Graficos
PresençaPerc
class(dfMedia)
dfMedia
PresençaPerc
Classic <- ggplot(dfMedia, aes(x=dfMedia*100.0, y=Produto))+
geom_bar(stat = "identity", fill="#17706E")+
geom_text(aes(label = paste0(round(dfMedia * 100), "%")), hjust = -0.2)+
labs(title= "Presença de Produto em Linear verificado pelo Ninja")+
theme(axis.title.x = element_blank(),
axis.title.y = element_blank())
ggplotly(Classic)
Classic <- ggplot(dfMedia, aes(x=dfMedia*100.0, y=Produto))+
geom_bar(stat = "identity", fill="#17706E")+
geom_text(aes(label = paste0(round(dfMedia * 100), "%")), hjust = -0.2)+
labs(title= "Presença de Produto em Linear verificado pelo Ninja")+
theme(axis.title.x = element_blank(),
axis.title.y = element_blank())
ggplotly(Classic)
Classic <- ggplot(PresençaPerc, aes(x=PresençaPerc*100.0, y=Produto))+
geom_bar(stat = "identity", fill="#17706E")+
geom_text(aes(label = paste0(round(PresençaPerc * 100), "%")), hjust = -0.2)+
labs(title= "Presença de Produto em Linear verificado pelo Ninja")+
theme(axis.title.x = element_blank(),
axis.title.y = element_blank())
ggplotly(Classic)
PresençaPerc
dfMedia
PresençaPerc
Classic <- ggplot(dfMedia, aes(x=Frequência*100.0, y=Produto))+
geom_bar(stat = "identity", fill="#17706E")+
geom_text(aes(label = paste0(round(Frequência * 100), "%")), hjust = -0.2)+
labs(title= "Presença de Produto em Linear verificado pelo Ninja")+
theme(axis.title.x = element_blank(),
axis.title.y = element_blank())
ggplotly(Classic)
Classic<-Classic +theme(panel.background = element_blank())
ggplotly(Classic)
Classic <- ggplot(dfMedia, aes(x=Frequência*100.0, y=Produto))+
geom_bar(stat = "identity", fill="#17706E")+
geom_text(aes(label = paste0(round(Frequência * 100), "%")), hjust = -0.2)+
labs(title= "Presença de Produto em Linear verificado pelo Ninja")+
theme(axis.title.x = element_blank(),
axis.title.y = element_blank())
ggplotly(Classic)
+theme(panel.background = element_blank())
Classic <- ggplot(dfMedia, aes(x=Frequência*100.0, y=Produto))+
geom_bar(stat = "identity", fill="#17706E")+
geom_text(aes(label = paste0(round(Frequência * 100), "%")), hjust = -0.2)+
labs(title= "Presença de Produto em Linear verificado pelo Ninja")+
theme(axis.title.x = element_blank(),
axis.title.y = element_blank())
Classic <- ggplot(dfMedia, aes(x=Frequência*100.0, y=Produto))+
geom_bar(stat = "identity", fill="#17706E")+
geom_text(aes(label = paste0(round(Frequência * 100), "%")), hjust = -0.2)+
labs(title= "Presença de Produto em Linear verificado pelo Ninja")+
theme(axis.title.x = element_blank(),
axis.title.y = element_blank())
ggplotly(Classic)
Classic <- ggplot(dfMedia, aes(x=Frequência*100.0, y=Produto))+
geom_bar(stat = "identity", fill="#17706E")+
geom_text(aes(label = paste0(round(Frequência * 100), "%")), hjust = -0.2)+
labs(title= "Presença de Produto em Linear verificado pelo Ninja")+
theme(axis.title.x = element_blank(),
axis.title.y = element_blank())
+theme(panel.background = element_blank())
ggplotly(Classic)
Classic <- ggplot(dfMedia, aes(x=Frequência*100.0, y=Produto))+
geom_bar(stat = "identity", fill="#17706E")+
geom_text(aes(label = paste0(round(Frequência * 100), "%")), hjust = -0.2)+
labs(title= "Presença de Produto em Linear verificado pelo Ninja")+
theme(axis.title.x = element_blank(),
axis.title.y = element_blank()),
Classic <- ggplot(dfMedia, aes(x=Frequência*100.0, y=Produto))+
geom_bar(stat = "identity", fill="#17706E")+
geom_text(aes(label = paste0(round(Frequência * 100), "%")), hjust = -0.2)+
labs(title= "Presença de Produto em Linear verificado pelo Ninja")+
theme(axis.title.x = element_blank(),
axis.title.y = element_blank()),
Classic <- ggplot(dfMedia, aes(x=Frequência*100.0, y=Produto))+
geom_bar(stat = "identity", fill="#17706E")+
geom_text(aes(label = paste0(round(Frequência * 100), "%")), hjust = -0.2)+
labs(title= "Presença de Produto em Linear verificado pelo Ninja")+
theme(axis.title.x = element_blank(),
axis.title.y = element_blank()) + theme(panel.background = element_blank())
ggplotly(Classic)
Classic<- Classic+ annotation_custom(rasterGrob(img),
xmin = 0.5, xmax = 1.5, ymin = 0, ymax = 14) +
scale_y_continuous(limits = c(0, 14))
perc1 <- aggregate(`Promoção` ~ DATA,DATAFUSION, mean)
G1<-ggplot(perc1, aes(x = DATA, y = `Promoção`)) +
geom_col(fill="#704f78") +
scale_y_continuous(labels = scales::percent_format(accuracy = 1),limits = c(0, 1)) +
labs(x = "Data - fim de semana", y = "Proporção de presenças em lojas")
G1<-G1 +theme(panel.background = element_blank())
F1<-ggplot(data = DATAFUSION, aes(x = Loja, y = `Promoção`)) +
geom_bar(stat = "identity", fill = "dark orange") +
labs(x = "Loja", y = "Presença do produto no Linear") + theme(axis.text.x = element_blank(), panel.background = element_blank())
ggplotly(G1)
mean(perc1$Promoção)
#Produto1
perc2 <- aggregate(`CAFÉ DELTA Q QALIDUS 10CAP` ~ DATA,DATAFUSION, mean)
G2<-ggplot(perc2, aes(x = DATA, y = `CAFÉ DELTA Q QALIDUS 10CAP`)) +
geom_col(fill="#735b4d") +
scale_y_continuous(labels = scales::percent_format(accuracy = 1),limits = c(0, 1)) +
labs(x = "Data - fim de semana", y = "Proporção de presenças em lojas")
G2<-G2 +theme(panel.background = element_blank())
F2<-ggplot(data = DATAFUSION, aes(x = Loja, y = `CAFÉ DELTA Q QALIDUS 10CAP`)) +
geom_bar(stat = "identity", fill = "dark orange") +
labs(x = "Loja", y = "Presença do produto no Linear") + theme(axis.text.x = element_blank(), panel.background = element_blank())
#Produto2
perc3 <- aggregate(`CAFÉ DELTA Q AQTIVUS 10CAP` ~ DATA,DATAFUSION, mean)
G3<-ggplot(perc3, aes(x = DATA, y = `CAFÉ DELTA Q AQTIVUS 10CAP`)) +
geom_col(fill="#9d5c52") +
scale_y_continuous(labels = scales::percent_format(accuracy = 1),limits = c(0, 1)) +
labs(x = "Data - fim de semana", y = "Proporção de presenças em lojas")
G3<-G3 +theme(panel.background = element_blank())
F3<-ggplot(data = DATAFUSION, aes(x = Loja, y = `CAFÉ DELTA Q AQTIVUS 10CAP`)) +
geom_bar(stat = "identity", fill = "dark orange") +
labs(x = "Loja", y = "Presença do produto no Linear") + theme(axis.text.x = element_blank(), panel.background = element_blank())
#Produto3
perc4 <- aggregate(`CAFÉ DELTA Q DEQAFEINATUS 10CAP` ~ DATA,DATAFUSION, mean)
G4<-ggplot(perc4, aes(x = DATA, y = `CAFÉ DELTA Q DEQAFEINATUS 10CAP`)) +
geom_col(fill="#4b625a") +
scale_y_continuous(labels = scales::percent_format(accuracy = 1),limits = c(0, 1)) +
labs(x = "Data - fim de semana", y = "Proporção de presenças em lojas")
G4<-G4 +theme(panel.background = element_blank())
F4<-ggplot(data = DATAFUSION, aes(x = Loja, y = `CAFÉ DELTA Q DEQAFEINATUS 10CAP`)) +
geom_bar(stat = "identity", fill = "dark orange") +
labs(x = "Loja", y = "Presença do produto no Linear") + theme(axis.text.x = element_blank(), panel.background = element_blank())
#Produto4
perc5 <- aggregate(`CERV.C/ALC.T/P CORONA 35,5CL` ~ DATA,DATAFUSION, mean)
G5<-ggplot(perc5, aes(x = DATA, y = `CERV.C/ALC.T/P CORONA 35,5CL`)) +
geom_col(fill="#e73b37") +
scale_y_continuous(labels = scales::percent_format(accuracy = 1),limits = c(0, 1)) +
labs(x = "Data - fim de semana", y = "Proporção de presenças em lojas")
G5<-G5 +theme(panel.background = element_blank())
F5<-ggplot(data = DATAFUSION, aes(x = Loja, y = `CERV.C/ALC.T/P CORONA 35,5CL`)) +
geom_bar(stat = "identity", fill = "dark orange") +
labs(x = "Loja", y = "Presença do produto no Linear") + theme(axis.text.x = element_blank(), panel.background = element_blank())
#Produto5
perc6 <- aggregate(`CERV.C/ALC.T/P FRANZISKANER WEISSBI.50CL` ~ DATA,DATAFUSION, mean)
G6<-ggplot(perc6, aes(x = DATA, y = `CERV.C/ALC.T/P FRANZISKANER WEISSBI.50CL`)) +
geom_col(fill="#e73b37") +
scale_y_continuous(labels = scales::percent_format(accuracy = 1),limits = c(0, 1)) +
labs(x = "Data - fim de semana", y = "Proporção de presenças em lojas")
G6<-G6 +theme(panel.background = element_blank())
F6<-ggplot(data = DATAFUSION, aes(x = Loja, y = `CERV.C/ALC.T/P FRANZISKANER WEISSBI.50CL`)) +
geom_bar(stat = "identity", fill = "dark orange") +
labs(x = "Loja", y = "Presença do produto no Linear") + theme(axis.text.x = element_blank(), panel.background = element_blank())
#Total
FINAL<-ggplot(data = DATAFUSION, aes(x = Loja, y = `Presença_em_Percentagem`)) +
geom_bar(stat = "identity", fill = "dark orange") +
labs(x = "Loja", y = "Percentagem de produtos Delta no ponto de venda") + theme(axis.text.x = element_blank(), panel.background = element_blank())
ggplotly(FINAL)
mean(perc1$Promoção)
F1
G1
G1<-ggplot(perc1, aes(x = DATA, y = `Promoção`)) +
geom_col(fill="#704f78") +
scale_y_continuous(labels = scales::percent_format(accuracy = 1),limits = c(0, 1)) +
labs(x = "Data - fim de semana", y = "Proporção de presenças em lojas")
G1<-ggplot(perc1, aes(x = DATA, y = `Promoção`)) +
geom_col(fill="#704f78") +
scale_y_continuous(labels = scales::percent_format(accuracy = 1),limits = c(0, 1)) +
labs(x = "Data - fim de semana", y = "Proporção de presenças em lojas")+theme(panel.background = element_blank())
G1
perc1
#Overview Ninja
subplot(Classic, G5, G4, G3, G2, G1,FINAL, nrows = 7, widths = 0.3, heights = NULL, margin = 0.009)
Promos
Promos[1]
#PROMOÇÕES
padrãoPromo <- "[nome]"
promo1 <- gsub("\\[nome\\]", Promos[1], padrãoSinal)
Presença1 <- DATAFUSION %>%
dplyr::select(all_of(promo1))             #Isolar a promoção e tirar valores em falta
promo1
sinal1
promo1 <- gsub("\\[nome\\]", Promos[1], padrãoPromo)
promo1
Presença1 <- DATAFUSION %>%
dplyr::select(all_of(promo1))             #Isolar a promoção e tirar valores em falta
Presença1<-na.omit(Presença1)
Freq1 <- table(Presença1$`Promoção`)
dfPerc1<-data.frame(prop.table(Freq1))  # Fazer a Frequência de cada um dos casos
names(dfPerc1) <- c(Promos[1], "Freq")
GPromo1 <- ggplot(dfPerc1, aes(x = Promoção, y = Freq)) +  # Não consigo mudar aqui....!!!
geom_bar(fill = "#40E0D0", stat = "identity") +
geom_text(aes(label = paste0(round(Freq * 100), "%"))) +
scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "",
x = "",
y = "") +
theme(panel.background = element_blank())
Ep1<-subplot(GPromo1, GPresença1, GPresença2)
Ep2<-subplot(GPresença3, GPresença4, GPresença5)
subplot(Ep1, Ep2, nrows=2, widths = 1, heights = NULL, margin = 0.02)
library(readxl)
library(tidyr)
library(ggplot2)
library(plotly)
library(readr)
# Ler ficheiros
DataFusion <- read_excel("D:\\B&N Dados\\Delta\\Piloto\\zgrafico1.xlsx")
DataFusion <- read_excel("D:\\B&N Dados\\Delta\\Piloto\\z2grafico1.xlsx")
dfMedia <- read_excel("D:\\B&N Dados\\Delta\\Piloto\\z5med.xlsx")
DATAFUSION <- DataFusion
colnames(DATAFUSION)[colnames(DATAFUSION) == "Nome da Loja"] ="Loja"
attach(DATAFUSION)
Classic <- ggplot(dfMedia, aes(x=Frequência*100.0, y=Produto))+
geom_bar(stat = "identity", fill="#17706E")+
geom_text(aes(label = paste0(round(Frequência * 100), "%")), hjust = -0.2)+
labs(title= "Presença de Produto em Linear verificado pelo Ninja")+
theme(axis.title.x = element_blank(),
axis.title.y = element_blank()) + theme(panel.background = element_blank())
ggplotly(Classic)
DataFusion <- read_excel("D:\\B&N Dados\\Delta\\Piloto\\OUT2grafico1.xlsx")
dfMedia <- read_excel("D:\\B&N Dados\\Delta\\Piloto\\OUT5med.xlsx")
DATAFUSION <- DataFusion
colnames(DATAFUSION)[colnames(DATAFUSION) == "Nome da Loja"] ="Loja"
attach(DATAFUSION)
Classic <- ggplot(dfMedia, aes(x=Frequência*100.0, y=Produto))+
geom_bar(stat = "identity", fill="#17706E")+
geom_text(aes(label = paste0(round(Frequência * 100), "%")), hjust = -0.2)+
labs(title= "Presença de Produto em Linear verificado pelo Ninja")+
theme(axis.title.x = element_blank(),
axis.title.y = element_blank()) + theme(panel.background = element_blank())
ggplotly(Classic)
perc1 <- aggregate(`Delta Q Gran Qalidus 80` ~ DATA,DATAFUSION, mean)
G1<-ggplot(perc1, aes(x = DATA, y = `Delta Q Gran Qalidus 80`)) +
geom_col(fill="#735b4d") +
scale_y_continuous(labels = scales::percent_format(accuracy = 1),limits = c(0, 1)) +
labs(x = "Data - fim de semana", y = "Proporção de presenças em lojas")+theme(panel.background = element_blank())
F1<-ggplot(data = DATAFUSION, aes(x = Loja, y = `Delta Q Gran Qalidus 80`)) +
geom_bar(stat = "identity", fill = "dark orange") +
labs(x = "Loja", y = "Presença do produto no Linear") + theme(axis.text.x = element_blank(), panel.background = element_blank())
G1
ggplot(G1)
ggplotly(G1)
ggplotly(F1)
ggplotly(G1)
View(DATAFUSION)
DataFusion <- read_excel("D:\\B&N Dados\\Delta\\Piloto\\OUT2grafico1.xlsx")
dfMedia <- read_excel("D:\\B&N Dados\\Delta\\Piloto\\OUT5med.xlsx")
Classic <- ggplot(dfMedia, aes(x=Frequência*100.0, y=Produto))+
geom_bar(stat = "identity", fill="#17706E")+
geom_text(aes(label = paste0(round(Frequência * 100), "%")), hjust = -0.2)+
labs(title= "Presença de Produto em Linear verificado pelo Ninja")+
theme(axis.title.x = element_blank(),
axis.title.y = element_blank()) + theme(panel.background = element_blank())
ggplotly(Classic)
perc1 <- aggregate(`Delta Q Gran Qalidus 80` ~ DATA,DATAFUSION, mean)
G1<-ggplot(perc1, aes(x = DATA, y = `Delta Q Gran Qalidus 80`)) +
geom_col(fill="#735b4d") +
scale_y_continuous(labels = scales::percent_format(accuracy = 1),limits = c(0, 1)) +
labs(x = "Data - fim de semana", y = "Proporção de presenças em lojas")+theme(panel.background = element_blank())
F1<-ggplot(data = DATAFUSION, aes(x = Loja, y = `Delta Q Gran Qalidus 80`)) +
geom_bar(stat = "identity", fill = "dark orange") +
labs(x = "Loja", y = "Presença do produto no Linear") + theme(axis.text.x = element_blank(), panel.background = element_blank())
ggplotly(G1)
View(DATAFUSION)
DATAFUSION <- DataFusion
colnames(DATAFUSION)[colnames(DATAFUSION) == "Nome da Loja"] ="Loja"
attach(DATAFUSION)
Classic <- ggplot(dfMedia, aes(x=Frequência*100.0, y=Produto))+
geom_bar(stat = "identity", fill="#17706E")+
geom_text(aes(label = paste0(round(Frequência * 100), "%")), hjust = -0.2)+
labs(title= "Presença de Produto em Linear verificado pelo Ninja")+
theme(axis.title.x = element_blank(),
axis.title.y = element_blank()) + theme(panel.background = element_blank())
ggplotly(Classic)
perc1 <- aggregate(`Delta Q Gran Qalidus 80` ~ DATA,DATAFUSION, mean)
G1<-ggplot(perc1, aes(x = DATA, y = `Delta Q Gran Qalidus 80`)) +
geom_col(fill="#735b4d") +
scale_y_continuous(labels = scales::percent_format(accuracy = 1),limits = c(0, 1)) +
labs(x = "Data - fim de semana", y = "Proporção de presenças em lojas")+theme(panel.background = element_blank())
F1<-ggplot(data = DATAFUSION, aes(x = Loja, y = `Delta Q Gran Qalidus 80`)) +
geom_bar(stat = "identity", fill = "dark orange") +
labs(x = "Loja", y = "Presença do produto no Linear") + theme(axis.text.x = element_blank(), panel.background = element_blank())
ggplotly(G1)
View(DATAFUSION)
DataFusion <- read_excel("D:\\B&N Dados\\Delta\\Piloto\\OUT2grafico1.xlsx")
#Produtos <- read.table("D:\\B&N Dados\\Delta\\Mar-abril23\\zProdutos2.txt", sep='\t', header=FALSE)
#Promos<- c("Promoção")
colnames(DataFusion)[colnames(DataFusion) == "Data de Resposta"] ="DATA"
dfMedia <- read_excel("D:\\B&N Dados\\Delta\\Piloto\\OUT5med.xlsx")
DATAFUSION <- DataFusion
colnames(DATAFUSION)[colnames(DATAFUSION) == "Nome da Loja"] ="Loja"
attach(DATAFUSION)
View(DATAFUSION)
library(readxl)
library(tidyr)
library(ggplot2)
library(plotly)
library(readr)
# Ler ficheiros
DataFusion <- read_excel("D:\\B&N Dados\\Delta\\Piloto\\OUT2grafico1.xlsx")
#Produtos <- read.table("D:\\B&N Dados\\Delta\\Mar-abril23\\zProdutos2.txt", sep='\t', header=FALSE)
#Promos<- c("Promoção")
colnames(DataFusion)[colnames(DataFusion) == "Data de Resposta"] ="DATA"
dfMedia <- read_excel("D:\\B&N Dados\\Delta\\Piloto\\OUT5med.xlsx")
DATAFUSION <- DataFusion
colnames(DATAFUSION)[colnames(DATAFUSION) == "Nome da Loja"] ="Loja"
attach(DATAFUSION)
Classic <- ggplot(dfMedia, aes(x=Frequência*100.0, y=Produto))+
geom_bar(stat = "identity", fill="#17706E")+
geom_text(aes(label = paste0(round(Frequência * 100), "%")), hjust = -0.2)+
labs(title= "Presença de Produto em Linear verificado pelo Ninja")+
theme(axis.title.x = element_blank(),
axis.title.y = element_blank()) + theme(panel.background = element_blank())
ggplotly(Classic)
perc1 <- aggregate(`Delta Q Gran Qalidus 80` ~ DATA,DATAFUSION, mean)
G1<-ggplot(perc1, aes(x = DATA, y = `Delta Q Gran Qalidus 80`)) +
geom_col(fill="#735b4d") +
scale_y_continuous(labels = scales::percent_format(accuracy = 1),limits = c(0, 1)) +
labs(x = "Data - fim de semana", y = "Proporção de presenças em lojas")+theme(panel.background = element_blank())
F1<-ggplot(data = DATAFUSION, aes(x = Loja, y = `Delta Q Gran Qalidus 80`)) +
geom_bar(stat = "identity", fill = "dark orange") +
labs(x = "Loja", y = "Presença do produto no Linear") + theme(axis.text.x = element_blank(), panel.background = element_blank())
ggplotly(G1)
library(readxl)
library(tidyr)
library(ggplot2)
library(plotly)
library(readr)
# Ler ficheiros
DataFusion <- read_excel("D:\\B&N Dados\\Delta\\Piloto\\OUT2grafico1.xlsx")
#Produtos <- read.table("D:\\B&N Dados\\Delta\\Mar-abril23\\zProdutos2.txt", sep='\t', header=FALSE)
#Promos<- c("Promoção")
colnames(DataFusion)[colnames(DataFusion) == "Data de Resposta"] ="DATA"
dfMedia <- read_excel("D:\\B&N Dados\\Delta\\Piloto\\OUT5med.xlsx")
DATAFUSION <- DataFusion
colnames(DATAFUSION)[colnames(DATAFUSION) == "Nome da Loja"] ="Loja"
Classic <- ggplot(dfMedia, aes(x=Frequência*100.0, y=Produto))+
geom_bar(stat = "identity", fill="#17706E")+
geom_text(aes(label = paste0(round(Frequência * 100), "%")), hjust = -0.2)+
labs(title= "Presença de Produto em Linear verificado pelo Ninja")+
theme(axis.title.x = element_blank(),
axis.title.y = element_blank()) + theme(panel.background = element_blank())
ggplotly(Classic)
perc1 <- aggregate(`Delta Q Gran Qalidus 80` ~ DATA,DATAFUSION, mean)
G1<-ggplot(perc1, aes(x = DATA, y = `Delta Q Gran Qalidus 80`)) +
geom_col(fill="#735b4d") +
scale_y_continuous(labels = scales::percent_format(accuracy = 1),limits = c(0, 1)) +
labs(x = "Data - fim de semana", y = "Proporção de presenças em lojas")+theme(panel.background = element_blank())
F1<-ggplot(data = DATAFUSION, aes(x = Loja, y = `Delta Q Gran Qalidus 80`)) +
geom_bar(stat = "identity", fill = "dark orange") +
labs(x = "Loja", y = "Presença do produto no Linear") + theme(axis.text.x = element_blank(), panel.background = element_blank())
ggplotly(G1)
