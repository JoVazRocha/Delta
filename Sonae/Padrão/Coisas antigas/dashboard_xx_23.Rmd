---
title: "Delta"
output: 
  flexdashboard::flex_dashboard:
    logo: logo.png
    orientation: columns
    vertical_layout: fill
---

```{r setup, include=FALSE}
library(flexdashboard)
library(DT)
library(dygraphs)
library(plotly)
library(markdown)
```

# NINJAS GLOBAL

## Column {data-width="700"}

### Presença de Produtos Verificado pelo Ninja {data-height="600"}

```{r}
ggplotly(Classic)
```

### Percentagem de produtos presentes por loja {data-height="300"}

```{r}
ggplotly(FINAL)
```

## Column {data-width="300"}

### Lojas SONAE visitadas

```{r}
valueBox(138, icon = "fa-store")
```

### Resumo

Relatório de auditoria a 14 produtos Delta em lojas SONAE.

Fim-de-semana: 17 (sábado) e 18 (domingo) de Junho.

Presença mais baixa no café QALIDUS 72+8 nos lineares visitados.

Presença deficitária de produtos (abaixo ou igual a 70%) no Continente Aveiro e nos Continentes Modelo do Fundão, Marinha Grande, Montijo, Ponte de Lima, Sesimbra.

Um total de 49 das 138 lojas (35%) apresentaram em prateleira todos os produtos auditados.

Não houve uma clara dominância das lojas com reposição relativamente à proporção de produtos observados pelos Ninjas.
Houve produtos que tinham maior presença em linear nos pontos de venda com reposição, enquanto outros produtos registaram maior presença em lojas sem reposição.

# REPOSIÇÃO

## Column {data-width="500"}

### Reposição Contratada - Proporção de produtos presentes {data-height="600"}

```{r}
ggplotly(CLASSICR)
```

### Percentagem de produtos presentes por loja {data-height="400"}

```{r}
ggplotly(FINALSL)
```

## Column {data-width="500"}

### Sem Reposição Contratada - Proporção de produtos presentes {data-height="600"}

```{r}
ggplotly(CLASSICRC)
```

### Percentagem de produtos presentes por loja {data-height="400"}

```{r}
ggplotly(FINALNL)
```

# AQTIVUS 10 {data-orientation="rows"}

## Row {.tabset data-height="600,"}

### VERIFICAÇÃO NINJA vs STOCKS SONAE

```{r}
ggplotly(GPresença1)
```

### ROTURA DE STOCK SONAE

```{r}
ggplotly(R11)
```

### CICLO DE REPOSIÇÃO

```{r}
ggplotly(Ci1)
```

### ADEQUAÇÃO DE STOCK E FORNECIMENTO

```{r}
ggplotly(A11)
```

### SELLOUTS 2023

```{r}
ggplotly(SO1)
```

### SELLOUTS 2022

```{r}
ggplotly(SO11)
```



```{r}
##ggplotly(DRL1)
```

### EXPLICAÇÃO DAS MÉTRICAS 
<style>
.smaller-text {
  font-size: 12px;
}
</style>

<span class="smaller-text">
-   VERIFICAÇÃO NINJA vs STOCKS SONAE -\> Comparação entre a presença do produto verificada pelo ninja e o Stock fornecido pela SONAE - Ninja (presente ou ausente) vs Sonae (Com Stock ou Sem Stock)- Variável Estado na Base de dados.
-   ROTURA de STOCK SONAE -\> Número de produtos EM STOCK vs Número de produtos em ROTURA.
-   CICLO DE REPOSIÇÃO -\> Número de vezes que o STOCK preenche o linear (calculado como PRESTOCK - Espaço em linear em Nº de produtos)
-   ADEQUAÇÃO DE STOCK E FORNECIMENTO -\> Se o STOCK der para preencher a totalidade de um espaço de linear (ciclo de reposição\>1.1) então é suficiente, se não der classifica-se como insuficiente. Se o número de unidades de STOCK somada ao número de unidades em fornecimento (STOCK em trânsito e STOCK expectável) der para preencher um linear, o fornecimento é Adequado, caso contrário classifica-se como inadequado.
-   SELLOUT2023 -\> Vendas em 2023 (Média dos 3 dias analisados).
-   SELLOUT2022 -\> Vendas em 2022 (Média dos 3 dias homólogos - 1º Fim de semana de Abril de 2022).
-   PERIGO DE ROTURA (ver na base de dados)
    -   Dias até à rotura-\> Número de dias de duração do STOCK se a venda média diária se mantiver.
    -   Caso não se verifique rotura de produto, e se o número de dias até à rotura for igual ou inferior a 3 (tempo médio fornencimento entre pedido e entrega) então será registado um "PERIGO ROTURA".
    -   Se for registado o PERIGO ROTURA e não for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA S/FORNECIMENTO".
    -   Se for registado o PERIGO ROTURA e for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA C/FORNECIMENTO"
    -   Se o número de dias até à rotura for superior a 3 e inferior a 6, classifica-se como "PERIGO CASO HAJA VARIABILIDADE" (considerando a variabilidade de procura)
</span>

## Row {data-height="600"}

### PRESENÇA DO PRODUTO em cada Loja (1= Presente)

```{r}
ggplotly(F1)
```

### PRESENÇA POR DIA - NINJA {data-width="200"}

```{r}
ggplotly(G1)
```

# MYTHIC 10 {data-orientation="rows"}

## Row {.tabset data-height="600,"}

### VERIFICAÇÃO NINJA vs STOCKS SONAE

```{r}
ggplotly(GPresença2)
```

### ROTURA DE STOCK SONAE

```{r}
ggplotly(R21)
```

### CICLO DE REPOSIÇÃO

```{r}
ggplotly(Ci2)
```

### ADEQUAÇÃO DE STOCK E FORNECIMENTO

```{r}
ggplotly(A21)
```

### SELLOUTS 2023

```{r}
ggplotly(SO2)
```

### SELLOUTS 2022

```{r}
ggplotly(SO21)
```



```{r}
#ggplotly(DRL2)
```

### EXPLICAÇÃO DAS MÉTRICAS

<style>
.smaller-text {
  font-size: 12px;
}
</style>

<span class="smaller-text">
-   VERIFICAÇÃO NINJA vs STOCKS SONAE -\> Comparação entre a presença do produto verificada pelo ninja e o Stock fornecido pela SONAE - Ninja (presente ou ausente) vs Sonae (Com Stock ou Sem Stock)- Variável Estado na Base de dados.
-   ROTURA de STOCK SONAE -\> Número de produtos EM STOCK vs Número de produtos em ROTURA.
-   CICLO DE REPOSIÇÃO -\> Número de vezes que o STOCK preenche o linear (calculado como PRESTOCK - Espaço em linear em Nº de produtos)
-   ADEQUAÇÃO DE STOCK E FORNECIMENTO -\> Se o STOCK der para preencher a totalidade de um espaço de linear (ciclo de reposição\>1.1) então é suficiente, se não der classifica-se como insuficiente. Se o número de unidades de STOCK somada ao número de unidades em fornecimento (STOCK em trânsito e STOCK expectável) der para preencher um linear, o fornecimento é Adequado, caso contrário classifica-se como inadequado.
-   SELLOUT2023 -\> Vendas em 2023 (Média dos 3 dias analisados).
-   SELLOUT2022 -\> Vendas em 2022 (Média dos 3 dias homólogos - 1º Fim de semana de Abril de 2022).
-   PERIGO DE ROTURA (ver na base de dados)
    -   Dias até à rotura-\> Número de dias de duração do STOCK se a venda média diária se mantiver.
    -   Caso não se verifique rotura de produto, e se o número de dias até à rotura for igual ou inferior a 3 (tempo médio fornencimento entre pedido e entrega) então será registado um "PERIGO ROTURA".
    -   Se for registado o PERIGO ROTURA e não for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA S/FORNECIMENTO".
    -   Se for registado o PERIGO ROTURA e for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA C/FORNECIMENTO"
    -   Se o número de dias até à rotura for superior a 3 e inferior a 6, classifica-se como "PERIGO CASO HAJA VARIABILIDADE" (considerando a variabilidade de procura)
</span>

## Row {data-height="600"}

### PRESENÇA DO PRODUTO em cada Loja (1= Presente)

```{r}
ggplotly(F2)
```

### PRESENÇA POR DIA - NINJA {data-width="200"}

```{r}
ggplotly(G2)
```

# BELÍSSIMO 30 {data-orientation="rows"}

## Row {.tabset data-height="600,"}

### VERIFICAÇÃO NINJA vs STOCKS SONAE

```{r}
ggplotly(GPresença3)
```

### ROTURA DE STOCK SONAE

```{r}
ggplotly(R31)
```

### CICLO DE REPOSIÇÃO

```{r}
ggplotly(Ci3)
```

### ADEQUAÇÃO DE STOCK E FORNECIMENTO

```{r}
ggplotly(A31)
```

### SELLOUTS 2023

```{r}
ggplotly(SO3)
```

### SELLOUTS 2022

```{r}
ggplotly(SO31)
```



```{r}
#ggplotly(DRL3)
```


### EXPLICAÇÃO DAS MÉTRICAS
<style>
.smaller-text {
  font-size: 12px;
}
</style>

<span class="smaller-text">
-   VERIFICAÇÃO NINJA vs STOCKS SONAE -\> Comparação entre a presença do produto verificada pelo ninja e o Stock fornecido pela SONAE - Ninja (presente ou ausente) vs Sonae (Com Stock ou Sem Stock)- Variável Estado na Base de dados.
-   ROTURA de STOCK SONAE -\> Número de produtos EM STOCK vs Número de produtos em ROTURA.
-   CICLO DE REPOSIÇÃO -\> Número de vezes que o STOCK preenche o linear (calculado como PRESTOCK - Espaço em linear em Nº de produtos)
-   ADEQUAÇÃO DE STOCK E FORNECIMENTO -\> Se o STOCK der para preencher a totalidade de um espaço de linear (ciclo de reposição\>1.1) então é suficiente, se não der classifica-se como insuficiente. Se o número de unidades de STOCK somada ao número de unidades em fornecimento (STOCK em trânsito e STOCK expectável) der para preencher um linear, o fornecimento é Adequado, caso contrário classifica-se como inadequado.
-   SELLOUT2023 -\> Vendas em 2023 (Média dos 3 dias analisados).
-   SELLOUT2022 -\> Vendas em 2022 (Média dos 3 dias homólogos - 1º Fim de semana de Abril de 2022).
-   PERIGO DE ROTURA (ver na base de dados)
    -   Dias até à rotura-\> Número de dias de duração do STOCK se a venda média diária se mantiver.
    -   Caso não se verifique rotura de produto, e se o número de dias até à rotura for igual ou inferior a 3 (tempo médio fornencimento entre pedido e entrega) então será registado um "PERIGO ROTURA".
    -   Se for registado o PERIGO ROTURA e não for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA S/FORNECIMENTO".
    -   Se for registado o PERIGO ROTURA e for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA C/FORNECIMENTO"
    -   Se o número de dias até à rotura for superior a 3 e inferior a 6, classifica-se como "PERIGO CASO HAJA VARIABILIDADE" (considerando a variabilidade de procura)
</span>

## Row {data-height="600"}

### PRESENÇA DO PRODUTO em cada Loja (1= Presente)

```{r}
ggplotly(F3)
```

### PRESENÇA POR DIA - NINJA {data-width="200"}

```{r}
ggplotly(G3)
```

# GINGA 10 {data-orientation="rows"}

## Row {.tabset data-height="600,"}

### VERIFICAÇÃO NINJA vs STOCKS SONAE

```{r}
ggplotly(GPresença4)
```

### ROTURA DE STOCK SONAE

```{r}
ggplotly(R41)
```

### CICLO DE REPOSIÇÃO

```{r}
ggplotly(Ci4)
```

### ADEQUAÇÃO DE STOCK E FORNECIMENTO

```{r}
ggplotly(A51)
```

### SELLOUTS 2023

```{r}
ggplotly(SO4)
```

### SELLOUTS 2022

```{r}
ggplotly(SO41)
```



```{r}
#ggplotly(DRL4)
```


### EXPLICAÇÃO DAS MÉTRICAS
<style>
.smaller-text {
  font-size: 12px;
}
</style>

<span class="smaller-text">
-   VERIFICAÇÃO NINJA vs STOCKS SONAE -\> Comparação entre a presença do produto verificada pelo ninja e o Stock fornecido pela SONAE - Ninja (presente ou ausente) vs Sonae (Com Stock ou Sem Stock)- Variável Estado na Base de dados.
-   ROTURA de STOCK SONAE -\> Número de produtos EM STOCK vs Número de produtos em ROTURA.
-   CICLO DE REPOSIÇÃO -\> Número de vezes que o STOCK preenche o linear (calculado como PRESTOCK - Espaço em linear em Nº de produtos)
-   ADEQUAÇÃO DE STOCK E FORNECIMENTO -\> Se o STOCK der para preencher a totalidade de um espaço de linear (ciclo de reposição\>1.1) então é suficiente, se não der classifica-se como insuficiente. Se o número de unidades de STOCK somada ao número de unidades em fornecimento (STOCK em trânsito e STOCK expectável) der para preencher um linear, o fornecimento é Adequado, caso contrário classifica-se como inadequado.
-   SELLOUT2023 -\> Vendas em 2023 (Média dos 3 dias analisados).
-   SELLOUT2022 -\> Vendas em 2022 (Média dos 3 dias homólogos - 1º Fim de semana de Abril de 2022).
-   PERIGO DE ROTURA (ver na base de dados)
    -   Dias até à rotura-\> Número de dias de duração do STOCK se a venda média diária se mantiver.
    -   Caso não se verifique rotura de produto, e se o número de dias até à rotura for igual ou inferior a 3 (tempo médio fornencimento entre pedido e entrega) então será registado um "PERIGO ROTURA".
    -   Se for registado o PERIGO ROTURA e não for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA S/FORNECIMENTO".
    -   Se for registado o PERIGO ROTURA e for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA C/FORNECIMENTO"
    -   Se o número de dias até à rotura for superior a 3 e inferior a 6, classifica-se como "PERIGO CASO HAJA VARIABILIDADE" (considerando a variabilidade de procura)
</span>

## Row {data-height="600"}

### PRESENÇA DO PRODUTO em cada Loja (1= Presente)

```{r}
ggplotly(F4)
```

### PRESENÇA POR DIA - NINJA {data-width="200"}

```{r}
ggplotly(G4)
```

# MOÍDO MÁQUINA 250G {data-orientation="rows"}

## Row {.tabset data-height="600,"}

### VERIFICAÇÃO NINJA vs STOCKS SONAE

```{r}
ggplotly(GPresença5)
```

### ROTURA DE STOCK SONAE

```{r}
ggplotly(R51)
```

### CICLO DE REPOSIÇÃO

```{r}
ggplotly(Ci5)
```

### ADEQUAÇÃO DE STOCK E FORNECIMENTO

```{r}
ggplotly(A51)
```

### SELLOUTS 2023

```{r}
ggplotly(SO5)
```

### SELLOUTS 2022

```{r}
ggplotly(SO51)
```



```{r}
#ggplotly(DRL5)
```


### EXPLICAÇÃO DAS MÉTRICAS
<style>
.smaller-text {
  font-size: 12px;
}
</style>

<span class="smaller-text">
-   VERIFICAÇÃO NINJA vs STOCKS SONAE -\> Comparação entre a presença do produto verificada pelo ninja e o Stock fornecido pela SONAE - Ninja (presente ou ausente) vs Sonae (Com Stock ou Sem Stock)- Variável Estado na Base de dados.
-   ROTURA de STOCK SONAE -\> Número de produtos EM STOCK vs Número de produtos em ROTURA.
-   CICLO DE REPOSIÇÃO -\> Número de vezes que o STOCK preenche o linear (calculado como PRESTOCK - Espaço em linear em Nº de produtos)
-   ADEQUAÇÃO DE STOCK E FORNECIMENTO -\> Se o STOCK der para preencher a totalidade de um espaço de linear (ciclo de reposição\>1.1) então é suficiente, se não der classifica-se como insuficiente. Se o número de unidades de STOCK somada ao número de unidades em fornecimento (STOCK em trânsito e STOCK expectável) der para preencher um linear, o fornecimento é Adequado, caso contrário classifica-se como inadequado.
-   SELLOUT2023 -\> Vendas em 2023 (Média dos 3 dias analisados).
-   SELLOUT2022 -\> Vendas em 2022 (Média dos 3 dias homólogos - 1º Fim de semana de Abril de 2022).
-   PERIGO DE ROTURA (ver na base de dados)
    -   Dias até à rotura-\> Número de dias de duração do STOCK se a venda média diária se mantiver.
    -   Caso não se verifique rotura de produto, e se o número de dias até à rotura for igual ou inferior a 3 (tempo médio fornencimento entre pedido e entrega) então será registado um "PERIGO ROTURA".
    -   Se for registado o PERIGO ROTURA e não for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA S/FORNECIMENTO".
    -   Se for registado o PERIGO ROTURA e for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA C/FORNECIMENTO"
    -   Se o número de dias até à rotura for superior a 3 e inferior a 6, classifica-se como "PERIGO CASO HAJA VARIABILIDADE" (considerando a variabilidade de procura)
</span>

## Row {data-height="600"}

### PRESENÇA DO PRODUTO em cada Loja (1= Presente)

```{r}
ggplotly(F5)
```

### PRESENÇA POR DIA - NINJA {data-width="200"}

```{r}
ggplotly(G5)
```


# RITUAL 220G {data-orientation="rows"}

## Row {.tabset data-height="600,"}

### VERIFICAÇÃO NINJA vs STOCKS SONAE

```{r}
ggplotly(GPresença6)
```

### ROTURA DE STOCK SONAE

```{r}
ggplotly(R61)
```

### CICLO DE REPOSIÇÃO

```{r}
ggplotly(Ci6)
```

### ADEQUAÇÃO DE STOCK E FORNECIMENTO

```{r}
ggplotly(A61)
```

### SELLOUTS 2023

```{r}
ggplotly(SO6)
```

### SELLOUTS 2022

```{r}
ggplotly(SO61)
```



```{r}
#ggplotly(DRL6)
```


### EXPLICAÇÃO DAS MÉTRICAS
<style>
.smaller-text {
  font-size: 12px;
}
</style>

<span class="smaller-text">
-   VERIFICAÇÃO NINJA vs STOCKS SONAE -\> Comparação entre a presença do produto verificada pelo ninja e o Stock fornecido pela SONAE - Ninja (presente ou ausente) vs Sonae (Com Stock ou Sem Stock)- Variável Estado na Base de dados.
-   ROTURA de STOCK SONAE -\> Número de produtos EM STOCK vs Número de produtos em ROTURA.
-   CICLO DE REPOSIÇÃO -\> Número de vezes que o STOCK preenche o linear (calculado como PRESTOCK - Espaço em linear em Nº de produtos)
-   ADEQUAÇÃO DE STOCK E FORNECIMENTO -\> Se o STOCK der para preencher a totalidade de um espaço de linear (ciclo de reposição\>1.1) então é suficiente, se não der classifica-se como insuficiente. Se o número de unidades de STOCK somada ao número de unidades em fornecimento (STOCK em trânsito e STOCK expectável) der para preencher um linear, o fornecimento é Adequado, caso contrário classifica-se como inadequado.
-   SELLOUT2023 -\> Vendas em 2023 (Média dos 3 dias analisados).
-   SELLOUT2022 -\> Vendas em 2022 (Média dos 3 dias homólogos - 1º Fim de semana de Abril de 2022).
-   PERIGO DE ROTURA (ver na base de dados)
    -   Dias até à rotura-\> Número de dias de duração do STOCK se a venda média diária se mantiver.
    -   Caso não se verifique rotura de produto, e se o número de dias até à rotura for igual ou inferior a 3 (tempo médio fornencimento entre pedido e entrega) então será registado um "PERIGO ROTURA".
    -   Se for registado o PERIGO ROTURA e não for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA S/FORNECIMENTO".
    -   Se for registado o PERIGO ROTURA e for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA C/FORNECIMENTO"
    -   Se o número de dias até à rotura for superior a 3 e inferior a 6, classifica-se como "PERIGO CASO HAJA VARIABILIDADE" (considerando a variabilidade de procura)
</span>

## Row {data-height="600"}

### PRESENÇA DO PRODUTO em cada Loja (1= Presente)

```{r}
ggplotly(F6)
```

### PRESENÇA POR DIA - NINJA {data-width="200"}

```{r}
ggplotly(G6)
```


# RITUAL TORRADO 500G {data-orientation="rows"}

## Row {.tabset data-height="600,"}

### VERIFICAÇÃO NINJA vs STOCKS SONAE

```{r}
ggplotly(GPresença7)
```

### ROTURA DE STOCK SONAE

```{r}
ggplotly(R71)
```

### CICLO DE REPOSIÇÃO

```{r}
ggplotly(Ci7)
```

### ADEQUAÇÃO DE STOCK E FORNECIMENTO

```{r}
ggplotly(A71)
```

### SELLOUTS 2023

```{r}
ggplotly(SO7)
```

### SELLOUTS 2022

```{r}
ggplotly(SO71)
```



```{r}
#ggplotly(DRL7)
```


### EXPLICAÇÃO DAS MÉTRICAS

<style>
.smaller-text {
  font-size: 12px;
}
</style>

<span class="smaller-text">
-   VERIFICAÇÃO NINJA vs STOCKS SONAE -\> Comparação entre a presença do produto verificada pelo ninja e o Stock fornecido pela SONAE - Ninja (presente ou ausente) vs Sonae (Com Stock ou Sem Stock)- Variável Estado na Base de dados.
-   ROTURA de STOCK SONAE -\> Número de produtos EM STOCK vs Número de produtos em ROTURA.
-   CICLO DE REPOSIÇÃO -\> Número de vezes que o STOCK preenche o linear (calculado como PRESTOCK - Espaço em linear em Nº de produtos)
-   ADEQUAÇÃO DE STOCK E FORNECIMENTO -\> Se o STOCK der para preencher a totalidade de um espaço de linear (ciclo de reposição\>1.1) então é suficiente, se não der classifica-se como insuficiente. Se o número de unidades de STOCK somada ao número de unidades em fornecimento (STOCK em trânsito e STOCK expectável) der para preencher um linear, o fornecimento é Adequado, caso contrário classifica-se como inadequado.
-   SELLOUT2023 -\> Vendas em 2023 (Média dos 3 dias analisados).
-   SELLOUT2022 -\> Vendas em 2022 (Média dos 3 dias homólogos - 1º Fim de semana de Abril de 2022).
-   PERIGO DE ROTURA (ver na base de dados)
    -   Dias até à rotura-\> Número de dias de duração do STOCK se a venda média diária se mantiver.
    -   Caso não se verifique rotura de produto, e se o número de dias até à rotura for igual ou inferior a 3 (tempo médio fornencimento entre pedido e entrega) então será registado um "PERIGO ROTURA".
    -   Se for registado o PERIGO ROTURA e não for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA S/FORNECIMENTO".
    -   Se for registado o PERIGO ROTURA e for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA C/FORNECIMENTO"
    -   Se o número de dias até à rotura for superior a 3 e inferior a 6, classifica-se como "PERIGO CASO HAJA VARIABILIDADE" (considerando a variabilidade de procura)
</span>

## Row {data-height="600"}

### PRESENÇA DO PRODUTO em cada Loja (1= Presente)

```{r}
ggplotly(F7)
```

### PRESENÇA POR DIA - NINJA {data-width="200"}

```{r}
ggplotly(G7)
```

8

# BRASIL 220G {data-orientation="rows"}

## Row {.tabset data-height="600,"}

### VERIFICAÇÃO NINJA vs STOCKS SONAE

```{r}
ggplotly(GPresença8)
```

### ROTURA DE STOCK SONAE

```{r}
ggplotly(R81)
```

### CICLO DE REPOSIÇÃO

```{r}
ggplotly(Ci8)
```

### ADEQUAÇÃO DE STOCK E FORNECIMENTO

```{r}
ggplotly(A81)
```

### SELLOUTS 2023

```{r}
ggplotly(SO8)
```

### SELLOUTS 2022

```{r}
ggplotly(SO81)
```



```{r}
#ggplotly(DRL8)
```


### EXPLICAÇÃO DAS MÉTRICAS
<style>
.smaller-text {
  font-size: 12px;
}
</style>

<span class="smaller-text">
-   VERIFICAÇÃO NINJA vs STOCKS SONAE -\> Comparação entre a presença do produto verificada pelo ninja e o Stock fornecido pela SONAE - Ninja (presente ou ausente) vs Sonae (Com Stock ou Sem Stock)- Variável Estado na Base de dados.
-   ROTURA de STOCK SONAE -\> Número de produtos EM STOCK vs Número de produtos em ROTURA.
-   CICLO DE REPOSIÇÃO -\> Número de vezes que o STOCK preenche o linear (calculado como PRESTOCK - Espaço em linear em Nº de produtos)
-   ADEQUAÇÃO DE STOCK E FORNECIMENTO -\> Se o STOCK der para preencher a totalidade de um espaço de linear (ciclo de reposição\>1.1) então é suficiente, se não der classifica-se como insuficiente. Se o número de unidades de STOCK somada ao número de unidades em fornecimento (STOCK em trânsito e STOCK expectável) der para preencher um linear, o fornecimento é Adequado, caso contrário classifica-se como inadequado.
-   SELLOUT2023 -\> Vendas em 2023 (Média dos 3 dias analisados).
-   SELLOUT2022 -\> Vendas em 2022 (Média dos 3 dias homólogos - 1º Fim de semana de Abril de 2022).
-   PERIGO DE ROTURA (ver na base de dados)
    -   Dias até à rotura-\> Número de dias de duração do STOCK se a venda média diária se mantiver.
    -   Caso não se verifique rotura de produto, e se o número de dias até à rotura for igual ou inferior a 3 (tempo médio fornencimento entre pedido e entrega) então será registado um "PERIGO ROTURA".
    -   Se for registado o PERIGO ROTURA e não for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA S/FORNECIMENTO".
    -   Se for registado o PERIGO ROTURA e for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA C/FORNECIMENTO"
    -   Se o número de dias até à rotura for superior a 3 e inferior a 6, classifica-se como "PERIGO CASO HAJA VARIABILIDADE" (considerando a variabilidade de procura)
</span>

## Row {data-height="600"}

### PRESENÇA DO PRODUTO em cada Loja (1= Presente)

```{r}
ggplotly(F8)
```

### PRESENÇA POR DIA - NINJA {data-width="200"}

```{r}
ggplotly(G8)
```

9

# ANGOLA 220G {data-orientation="rows"}

## Row {.tabset data-height="600,"}

### VERIFICAÇÃO NINJA vs STOCKS SONAE

```{r}
ggplotly(GPresença9)
```

### ROTURA DE STOCK SONAE

```{r}
ggplotly(R91)
```

### CICLO DE REPOSIÇÃO

```{r}
ggplotly(Ci9)
```

### ADEQUAÇÃO DE STOCK E FORNECIMENTO

```{r}
ggplotly(A91)
```

### SELLOUTS 2023

```{r}
ggplotly(SO9)
```

### SELLOUTS 2022

```{r}
ggplotly(SO91)
```



```{r}
#ggplotly(DRL9)
```



### EXPLICAÇÃO DAS MÉTRICAS
<style>
.smaller-text {
  font-size: 12px;
}
</style>

<span class="smaller-text">
-   VERIFICAÇÃO NINJA vs STOCKS SONAE -\> Comparação entre a presença do produto verificada pelo ninja e o Stock fornecido pela SONAE - Ninja (presente ou ausente) vs Sonae (Com Stock ou Sem Stock)- Variável Estado na Base de dados.
-   ROTURA de STOCK SONAE -\> Número de produtos EM STOCK vs Número de produtos em ROTURA.
-   CICLO DE REPOSIÇÃO -\> Número de vezes que o STOCK preenche o linear (calculado como PRESTOCK - Espaço em linear em Nº de produtos)
-   ADEQUAÇÃO DE STOCK E FORNECIMENTO -\> Se o STOCK der para preencher a totalidade de um espaço de linear (ciclo de reposição\>1.1) então é suficiente, se não der classifica-se como insuficiente. Se o número de unidades de STOCK somada ao número de unidades em fornecimento (STOCK em trânsito e STOCK expectável) der para preencher um linear, o fornecimento é Adequado, caso contrário classifica-se como inadequado.
-   SELLOUT2023 -\> Vendas em 2023 (Média dos 3 dias analisados).
-   SELLOUT2022 -\> Vendas em 2022 (Média dos 3 dias homólogos - 1º Fim de semana de Abril de 2022).
-   PERIGO DE ROTURA (ver na base de dados)
    -   Dias até à rotura-\> Número de dias de duração do STOCK se a venda média diária se mantiver.
    -   Caso não se verifique rotura de produto, e se o número de dias até à rotura for igual ou inferior a 3 (tempo médio fornencimento entre pedido e entrega) então será registado um "PERIGO ROTURA".
    -   Se for registado o PERIGO ROTURA e não for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA S/FORNECIMENTO".
    -   Se for registado o PERIGO ROTURA e for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA C/FORNECIMENTO"
    -   Se o número de dias até à rotura for superior a 3 e inferior a 6, classifica-se como "PERIGO CASO HAJA VARIABILIDADE" (considerando a variabilidade de procura)
</span>

## Row {data-height="600"}

### PRESENÇA DO PRODUTO em cada Loja (1= Presente)

```{r}
ggplotly(F9)
```

### PRESENÇA POR DIA - NINJA {data-width="200"}

```{r}
ggplotly(G9)
```


# SOLÚVEL 200G {data-orientation="rows"}

## Row {.tabset data-height="600,"}

### VERIFICAÇÃO NINJA vs STOCKS SONAE

```{r}
ggplotly(GPresença10)
```

### ROTURA DE STOCK SONAE

```{r}
ggplotly(R101)
```

### CICLO DE REPOSIÇÃO

```{r}
ggplotly(Ci10)
```

### ADEQUAÇÃO DE STOCK E FORNECIMENTO

```{r}
ggplotly(A101)
```

### SELLOUTS 2023

```{r}
ggplotly(SO10)
```

### SELLOUTS 2022

```{r}
ggplotly(SO101)
```




```{r}
#ggplotly(DRL10)
```



### EXPLICAÇÃO DAS MÉTRICAS
<style>
.smaller-text {
  font-size: 12px;
}
</style>

<span class="smaller-text">
-   VERIFICAÇÃO NINJA vs STOCKS SONAE -\> Comparação entre a presença do produto verificada pelo ninja e o Stock fornecido pela SONAE - Ninja (presente ou ausente) vs Sonae (Com Stock ou Sem Stock)- Variável Estado na Base de dados.
-   ROTURA de STOCK SONAE -\> Número de produtos EM STOCK vs Número de produtos em ROTURA.
-   CICLO DE REPOSIÇÃO -\> Número de vezes que o STOCK preenche o linear (calculado como PRESTOCK - Espaço em linear em Nº de produtos)
-   ADEQUAÇÃO DE STOCK E FORNECIMENTO -\> Se o STOCK der para preencher a totalidade de um espaço de linear (ciclo de reposição\>1.1) então é suficiente, se não der classifica-se como insuficiente. Se o número de unidades de STOCK somada ao número de unidades em fornecimento (STOCK em trânsito e STOCK expectável) der para preencher um linear, o fornecimento é Adequado, caso contrário classifica-se como inadequado.
-   SELLOUT2023 -\> Vendas em 2023 (Média dos 3 dias analisados).
-   SELLOUT2022 -\> Vendas em 2022 (Média dos 3 dias homólogos - 1º Fim de semana de Abril de 2022).
-   PERIGO DE ROTURA (ver na base de dados)
    -   Dias até à rotura-\> Número de dias de duração do STOCK se a venda média diária se mantiver.
    -   Caso não se verifique rotura de produto, e se o número de dias até à rotura for igual ou inferior a 3 (tempo médio fornencimento entre pedido e entrega) então será registado um "PERIGO ROTURA".
    -   Se for registado o PERIGO ROTURA e não for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA S/FORNECIMENTO".
    -   Se for registado o PERIGO ROTURA e for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA C/FORNECIMENTO"
    -   Se o número de dias até à rotura for superior a 3 e inferior a 6, classifica-se como "PERIGO CASO HAJA VARIABILIDADE" (considerando a variabilidade de procura)
</span>

## Row {data-height="600"}

### PRESENÇA DO PRODUTO em cada Loja (1= Presente)

```{r}
ggplotly(F10)
```

### PRESENÇA POR DIA - NINJA {data-width="200"}

```{r}
ggplotly(G10)
```



# SOLÚVEL INTENSO 200G {data-orientation="rows"}

## Row {.tabset data-height="600,"}

### VERIFICAÇÃO NINJA vs STOCKS SONAE

```{r}
ggplotly(GPresença11)
```

### ROTURA DE STOCK SONAE

```{r}
ggplotly(R111)
```

### CICLO DE REPOSIÇÃO

```{r}
ggplotly(Ci11)
```

### ADEQUAÇÃO DE STOCK E FORNECIMENTO

```{r}
ggplotly(A111)
```

### SELLOUTS 2023

```{r}
ggplotly(SO11)
```

### SELLOUTS 2022

```{r}
ggplotly(SO111)
```




```{r}
#ggplotly(DRL11)
```



### EXPLICAÇÃO DAS MÉTRICAS
<style>
.smaller-text {
  font-size: 12px;
}
</style>

<span class="smaller-text">
-   VERIFICAÇÃO NINJA vs STOCKS SONAE -\> Comparação entre a presença do produto verificada pelo ninja e o Stock fornecido pela SONAE - Ninja (presente ou ausente) vs Sonae (Com Stock ou Sem Stock)- Variável Estado na Base de dados.
-   ROTURA de STOCK SONAE -\> Número de produtos EM STOCK vs Número de produtos em ROTURA.
-   CICLO DE REPOSIÇÃO -\> Número de vezes que o STOCK preenche o linear (calculado como PRESTOCK - Espaço em linear em Nº de produtos)
-   ADEQUAÇÃO DE STOCK E FORNECIMENTO -\> Se o STOCK der para preencher a totalidade de um espaço de linear (ciclo de reposição\>1.1) então é suficiente, se não der classifica-se como insuficiente. Se o número de unidades de STOCK somada ao número de unidades em fornecimento (STOCK em trânsito e STOCK expectável) der para preencher um linear, o fornecimento é Adequado, caso contrário classifica-se como inadequado.
-   SELLOUT2023 -\> Vendas em 2023 (Média dos 3 dias analisados).
-   SELLOUT2022 -\> Vendas em 2022 (Média dos 3 dias homólogos - 1º Fim de semana de Abril de 2022).
-   PERIGO DE ROTURA (ver na base de dados)
    -   Dias até à rotura-\> Número de dias de duração do STOCK se a venda média diária se mantiver.
    -   Caso não se verifique rotura de produto, e se o número de dias até à rotura for igual ou inferior a 3 (tempo médio fornencimento entre pedido e entrega) então será registado um "PERIGO ROTURA".
    -   Se for registado o PERIGO ROTURA e não for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA S/FORNECIMENTO".
    -   Se for registado o PERIGO ROTURA e for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA C/FORNECIMENTO"
    -   Se o número de dias até à rotura for superior a 3 e inferior a 6, classifica-se como "PERIGO CASO HAJA VARIABILIDADE" (considerando a variabilidade de procura)
</span>

## Row {data-height="600"}

### PRESENÇA DO PRODUTO em cada Loja (1= Presente)

```{r}
ggplotly(F11)
```

### PRESENÇA POR DIA - NINJA {data-width="200"}

```{r}
ggplotly(G11)
```


# QALIDUS 72+8 {data-orientation="rows"}

## Row {.tabset data-height="600,"}

### VERIFICAÇÃO NINJA vs STOCKS SONAE

```{r}
ggplotly(GPresença12)
```

### ROTURA DE STOCK SONAE

```{r}
ggplotly(R121)
```

### CICLO DE REPOSIÇÃO

```{r}
ggplotly(Ci12)
```

### ADEQUAÇÃO DE STOCK E FORNECIMENTO

```{r}
ggplotly(A121)
```

### SELLOUTS 2023

```{r}
ggplotly(SO12)
```

### SELLOUTS 2022

```{r}
ggplotly(SO121)
```




```{r}
#ggplotly(DRL12)
```



### EXPLICAÇÃO DAS MÉTRICAS
<style>
.smaller-text {
  font-size: 12px;
}
</style>

<span class="smaller-text">
-   VERIFICAÇÃO NINJA vs STOCKS SONAE -\> Comparação entre a presença do produto verificada pelo ninja e o Stock fornecido pela SONAE - Ninja (presente ou ausente) vs Sonae (Com Stock ou Sem Stock)- Variável Estado na Base de dados.
-   ROTURA de STOCK SONAE -\> Número de produtos EM STOCK vs Número de produtos em ROTURA.
-   CICLO DE REPOSIÇÃO -\> Número de vezes que o STOCK preenche o linear (calculado como PRESTOCK - Espaço em linear em Nº de produtos)
-   ADEQUAÇÃO DE STOCK E FORNECIMENTO -\> Se o STOCK der para preencher a totalidade de um espaço de linear (ciclo de reposição\>1.1) então é suficiente, se não der classifica-se como insuficiente. Se o número de unidades de STOCK somada ao número de unidades em fornecimento (STOCK em trânsito e STOCK expectável) der para preencher um linear, o fornecimento é Adequado, caso contrário classifica-se como inadequado.
-   SELLOUT2023 -\> Vendas em 2023 (Média dos 3 dias analisados).
-   SELLOUT2022 -\> Vendas em 2022 (Média dos 3 dias homólogos - 1º Fim de semana de Abril de 2022).
-   PERIGO DE ROTURA (ver na base de dados)
    -   Dias até à rotura-\> Número de dias de duração do STOCK se a venda média diária se mantiver.
    -   Caso não se verifique rotura de produto, e se o número de dias até à rotura for igual ou inferior a 3 (tempo médio fornencimento entre pedido e entrega) então será registado um "PERIGO ROTURA".
    -   Se for registado o PERIGO ROTURA e não for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA S/FORNECIMENTO".
    -   Se for registado o PERIGO ROTURA e for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA C/FORNECIMENTO"
    -   Se o número de dias até à rotura for superior a 3 e inferior a 6, classifica-se como "PERIGO CASO HAJA VARIABILIDADE" (considerando a variabilidade de procura)
</span>

## Row {data-height="600"}

### PRESENÇA DO PRODUTO em cada Loja (1= Presente)

```{r}
ggplotly(F12)
```

### PRESENÇA POR DIA - NINJA {data-width="200"}

```{r}
ggplotly(G12)
```


# MYTHIQ 72+8 {data-orientation="rows"}

## Row {.tabset data-height="600,"}

### VERIFICAÇÃO NINJA vs STOCKS SONAE

```{r}
ggplotly(GPresença13)
```

### ROTURA DE STOCK SONAE

```{r}
ggplotly(R131)
```

### CICLO DE REPOSIÇÃO

```{r}
ggplotly(Ci13)
```

### ADEQUAÇÃO DE STOCK E FORNECIMENTO

```{r}
ggplotly(A131)
```

### SELLOUTS 2023

```{r}
ggplotly(SO13)
```

### SELLOUTS 2022

```{r}
ggplotly(SO131)
```




```{r}
#ggplotly(DRL13)
```



### EXPLICAÇÃO DAS MÉTRICAS
<style>
.smaller-text {
  font-size: 12px;
}
</style>

<span class="smaller-text">
-   VERIFICAÇÃO NINJA vs STOCKS SONAE -\> Comparação entre a presença do produto verificada pelo ninja e o Stock fornecido pela SONAE - Ninja (presente ou ausente) vs Sonae (Com Stock ou Sem Stock)- Variável Estado na Base de dados.
-   ROTURA de STOCK SONAE -\> Número de produtos EM STOCK vs Número de produtos em ROTURA.
-   CICLO DE REPOSIÇÃO -\> Número de vezes que o STOCK preenche o linear (calculado como PRESTOCK - Espaço em linear em Nº de produtos)
-   ADEQUAÇÃO DE STOCK E FORNECIMENTO -\> Se o STOCK der para preencher a totalidade de um espaço de linear (ciclo de reposição\>1.1) então é suficiente, se não der classifica-se como insuficiente. Se o número de unidades de STOCK somada ao número de unidades em fornecimento (STOCK em trânsito e STOCK expectável) der para preencher um linear, o fornecimento é Adequado, caso contrário classifica-se como inadequado.
-   SELLOUT2023 -\> Vendas em 2023 (Média dos 3 dias analisados).
-   SELLOUT2022 -\> Vendas em 2022 (Média dos 3 dias homólogos - 1º Fim de semana de Abril de 2022).
-   PERIGO DE ROTURA (ver na base de dados)
    -   Dias até à rotura-\> Número de dias de duração do STOCK se a venda média diária se mantiver.
    -   Caso não se verifique rotura de produto, e se o número de dias até à rotura for igual ou inferior a 3 (tempo médio fornencimento entre pedido e entrega) então será registado um "PERIGO ROTURA".
    -   Se for registado o PERIGO ROTURA e não for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA S/FORNECIMENTO".
    -   Se for registado o PERIGO ROTURA e for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA C/FORNECIMENTO"
    -   Se o número de dias até à rotura for superior a 3 e inferior a 6, classifica-se como "PERIGO CASO HAJA VARIABILIDADE" (considerando a variabilidade de procura)
</span>

## Row {data-height="600"}

### PRESENÇA DO PRODUTO em cada Loja (1= Presente)

```{r}
ggplotly(F13)
```

### PRESENÇA POR DIA - NINJA {data-width="200"}

```{r}
ggplotly(G13)
```


# EPIQ 72+8 {data-orientation="rows"}

## Row {.tabset data-height="600,"}

### VERIFICAÇÃO NINJA vs STOCKS SONAE

```{r}
ggplotly(GPresença14)
```

### ROTURA DE STOCK SONAE

```{r}
ggplotly(R141)
```

### CICLO DE REPOSIÇÃO

```{r}
ggplotly(Ci14)
```

### ADEQUAÇÃO DE STOCK E FORNECIMENTO

```{r}
ggplotly(A141)
```

### SELLOUTS 2023

```{r}
ggplotly(SO14)
```

### SELLOUTS 2022

```{r}
ggplotly(SO141)
```




```{r}
#ggplotly(DRL14)
```



### EXPLICAÇÃO DAS MÉTRICAS
<style>
.smaller-text {
  font-size: 12px;
}
</style>

<span class="smaller-text">
-   VERIFICAÇÃO NINJA vs STOCKS SONAE -\> Comparação entre a presença do produto verificada pelo ninja e o Stock fornecido pela SONAE - Ninja (presente ou ausente) vs Sonae (Com Stock ou Sem Stock)- Variável Estado na Base de dados.
-   ROTURA de STOCK SONAE -\> Número de produtos EM STOCK vs Número de produtos em ROTURA.
-   CICLO DE REPOSIÇÃO -\> Número de vezes que o STOCK preenche o linear (calculado como PRESTOCK - Espaço em linear em Nº de produtos)
-   ADEQUAÇÃO DE STOCK E FORNECIMENTO -\> Se o STOCK der para preencher a totalidade de um espaço de linear (ciclo de reposição\>1.1) então é suficiente, se não der classifica-se como insuficiente. Se o número de unidades de STOCK somada ao número de unidades em fornecimento (STOCK em trânsito e STOCK expectável) der para preencher um linear, o fornecimento é Adequado, caso contrário classifica-se como inadequado.
-   SELLOUT2023 -\> Vendas em 2023 (Média dos 3 dias analisados).
-   SELLOUT2022 -\> Vendas em 2022 (Média dos 3 dias homólogos - 1º Fim de semana de Abril de 2022).
-   PERIGO DE ROTURA (ver na base de dados)
    -   Dias até à rotura-\> Número de dias de duração do STOCK se a venda média diária se mantiver.
    -   Caso não se verifique rotura de produto, e se o número de dias até à rotura for igual ou inferior a 3 (tempo médio fornencimento entre pedido e entrega) então será registado um "PERIGO ROTURA".
    -   Se for registado o PERIGO ROTURA e não for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA S/FORNECIMENTO".
    -   Se for registado o PERIGO ROTURA e for registado STOCK expectável ou em trânsito o caso é classificado como "PERIGO ROTURA C/FORNECIMENTO"
    -   Se o número de dias até à rotura for superior a 3 e inferior a 6, classifica-se como "PERIGO CASO HAJA VARIABILIDADE" (considerando a variabilidade de procura)
</span>

## Row {data-height="600"}

### PRESENÇA DO PRODUTO em cada Loja (1= Presente)

```{r}
ggplotly(F14)
```

### PRESENÇA POR DIA - NINJA {data-width="200"}

```{r}
ggplotly(G14)
```


# BASE DE DADOS

## Column {.tabset data-width="1000,"}

### Base de dados - NINJAS + STOCKS e SELLOUTS

```{r}
datatable(DATAFUSION[, c(21,1:3,18,221,4:17,22,27,32,37,42,47,52,57,62,67,72,77,82,87,26,31,36,41,47,51,56,61,66,71,76,81,86,91)], extensions = c('Buttons', 'SearchBuilder'), options = list(
  dom = 'Bfrtip',
  buttons = list(
    'copy', 
    list(
      extend = 'collection',
      buttons = c('excel', 'pdf'),
      text = 'Download'
    ),
    'searchBuilder'
  )
))
```

### Base de dados - TOTAL + MÉTRICAS

```{r}
datatable(DATAFUSION[,c(21,1:20,22:219)], extensions = c('Buttons', 'SearchBuilder'), options = list(
  dom = 'Bfrtip',
  lengthMenu = list(c(10, 25, 50, -1), c('10', '25', '50', 'Todos')),
  buttons = list(
    'copy', 
    list(
      extend = 'collection',
      buttons = c('excel', 'pdf'),
      text = 'Download'
    ),
    'searchBuilder'
  )
))
```

rmarkdown::render("D:\\B&N Dados\\Delta\\Padrão\\Padrão_06_2023\\dashboard_06_23.Rmd")

